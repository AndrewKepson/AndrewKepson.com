---
import Layout from "@components/layouts/Layout.astro";
import Post from "../_components/Post/Post.astro";
import { allWordPressPosts } from "@lib/store";
import slugger from "slugger";

export async function getStaticPaths() {
	return allWordPressPosts.map((post) => ({
		params: {
			category: slugger(post?.category),
			slug: post?.slug,
		},
		props: {
			post,
		},
	}));
}

const { post } = Astro.props;
console.log(post);
---

<Layout title={post?.seo?.title} description={post?.seo?.description} canonical={post?.uri}>
	<Post post={post} />
</Layout>
