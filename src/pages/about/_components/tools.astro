---
import type { HeadingProps, ImageProps } from "@lib/types";
import { Image } from "astro:assets";
import Heading from "@components/ui/typography/heading.astro";

export interface Tool {
	name: string;
	description: string;
	image?: ImageProps;
}

export interface ToolsProps {
	heading?: HeadingProps;
	tools: Tool[];
}

const { heading, tools } = Astro.props as ToolsProps;
---

<section class="bg-offwhite-500 text-ink-500 px-8 py-24">
	<div class="mx-auto max-w-6xl space-y-16">
		<!-- Header -->
		<header class="space-y-4 text-center">
			{
				heading && (
					<Heading
						level={2}
						text={heading?.text}
						class="font-display text-secondary-500 text-4xl leading-tight font-semibold"
					/>
				)
			}
			<p class="font-body text-ink-400 mx-auto max-w-prose text-lg leading-relaxed">
				I build with a blend of modern frameworks, content platforms, and automation systems — each chosen for
				performance, flexibility, and long-term sustainability.
			</p>
		</header>
		<!-- Tools Grid -->
		<div class="grid gap-10 sm:grid-cols-2 lg:grid-cols-3">
			<!-- Tool -->
			{
				tools.map((tool) => (
					<article class="card bg-primary-500 rounded-[12px] p-8 shadow-md transition-all duration-300 hover:shadow-lg">
						{tool.image && (
							<Image
								src={tool.image.src}
								alt={tool.image.alt}
								width={tool.image.width}
								height={tool.image.height}
								loading={tool.image.loading ?? "eager"}
								fetchpriority={tool.image.fetchpriority ?? "high"}
								decoding={tool.image.decoding ?? "sync"}
								class="mb-4 h-16 w-16 object-contain opacity-90"
							/>
						)}

						<h3 class="font-display text-secondary-500 mb-2 text-xl" set:html={tool.name} />
						<p class="font-body text-ink-400 text-sm leading-relaxed" set:html={tool.description} />
					</article>
				))
			}
		</div>
		<!-- Closing Line -->
		<footer class="pt-8 text-center">
			<p class="font-body text-ink-300 text-sm italic">
				Each tool is part of a broader ecosystem — design, development, and automation working together to make
				the web feel intentional again.
			</p>
		</footer>
	</div>
</section>
