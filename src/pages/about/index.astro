---
import { wordPressPagesBySlug, PORTRAIT_PHOTO } from "@lib/store";
import { getMediaItem } from "@lib/wordPressAPI";
import { processSchemaMarkup } from "@lib/render-wordpress-content/process-wordpress-html";

import PrimaryLayout from "@components/layouts/primary-layout.astro";
import Heading from "@components/ui/typography/heading.astro";
import Button from "@components/ui/buttons/button.astro";
import CenteredContent from "@components/content/centered-content.astro";
import HeroWithImage from "@components/heroes/hero-with-image.astro";
import Timeline from "./_components/timeline.astro";
import Tools from "./_components/tools.astro";

const pageData = wordPressPagesBySlug.get("about");

const astroLogo = await getMediaItem("astro-logo-light-gradient");
const wordpressLogo = await getMediaItem("461", "DATABASE_ID");
const typescriptLogo = await getMediaItem("474", "DATABASE_ID");
const alpinejsLogo = await getMediaItem("alpine_logo");
---

<PrimaryLayout
	title={pageData?.seo?.title}
	description={pageData?.seo?.description}
	canonical="/about/"
	schemaMarkup={processSchemaMarkup(pageData.schemaMarkup)}
>
	<CenteredContent variant="offwhite" class="pb-8">
		<Heading
			level={1}
			text="About Andrew Kepson"
			class="text-secondary-500 text-5xl leading-tight font-semibold lg:text-6xl"
		/>
		<p class="font-body text-ink-400 mx-auto max-w-2xl text-lg leading-relaxed">
			I’m a web developer, automation engineer, and writer focused on clarity — building systems where structure
			meets soul. My work blends modern design language, performance marketing, and technical precision.
		</p>
	</CenteredContent>
	<HeroWithImage
		variant="offwhite"
		image={{
			src: PORTRAIT_PHOTO.src,
			alt: PORTRAIT_PHOTO.alt,
		}}
		imagePlacement="right"
		mobileImagePlacement="top"
	>
		<Fragment slot="content">
			<Heading
				level={2}
				text="Structure. Purpose. Integrity."
				class="text-secondary-500 text-3xl leading-snug font-semibold"
			/>
			<p>
				Over the last decade, I’ve worked at the intersection of design and development — crafting thoughtful
				experiences that align function with philosophy. My projects are built with intention: every line of
				code, every word, every pixel has to belong.
			</p>
			<p>
				Today I lead projects that merge creative storytelling, technical depth, and strategic design systems.
				Whether I’m writing essays on moral design or developing brand ecosystems, the goal remains the same —
				to make clarity visible.
			</p>
		</Fragment>
	</HeroWithImage>
	<Timeline
		heading={{ text: "My Career Journey" }}
		items={[
			{
				title: "Software Engineer, Frontend",
				date: "2024 - Present",
				description:
					"Building modern frontends with React at the world's leading form, workflow, and data activation company: Intellistack (previously known as Formstack).",
			},
			{
				title: "Professional Services Consultant",
				date: "2022 - 2024",
				description:
					"Built and scaled data collection and workflow automation solutions for a range of clients, with a focus on customized solutions for the financial services industry.",
			},
			{
				title: 'Founder, <span class="text-red-500/80">Red Rocks Web Development</span>',
				date: "2021 - Present",
				description:
					"Building a modern digital agency that emphasizes clean design systems, performance, and technical SEO. Created the Red Rocks component library and a scalable website subscription model.",
			},
			{
				title: "Completed University of Denver Full Stack Coding Bootcamp",
				date: "2020",
				description:
					"I completed the full stack coding bootcamp at the University of Denver. It was a 12-week full-time intensive program focused on JavaScript including React and Node.js.",
			},
			{
				title: "Search Engine Optimization Analyst",
				date: "2019 - 2022",
				description:
					"Developed SEO strategies and implemented technical SEO best practices for a range of clients, with a focus on improving organic traffic and search engine rankings.",
			},
			{
				title: "Freelance Writer",
				date: "2018 - 2021",
				description:
					"Developed brand identities and written campaigns for small businesses and nonprofits. Focused on storytelling, SEO content, and design clarity that communicates purpose.",
			},
			{
				title: "Graduated from University of Colorado Colorado Springs",
				date: "2018",
				description:
					"I graduated with a Bachelor of Arts as a double major in English Literature and Philosophy. Some of said that these are the two most useless degrees you can get, but I feel like it has worked out so far.",
			},
			{
				title: "MySpace",
				date: "2005",
				description:
					"During the heydey of MySpace, I first learned CSS and customized profile themes for friends.",
			},
			{
				title: "Built My First Website",
				date: "2003",
				description:
					"I built my first website using purely HTML and hosted it on Geocities. I'm sure it looked terrible.",
			},
		]}
	/>
	<Tools
		heading={{ text: "Tools of the Trade" }}
		tools={[
			{
				name: "TypeScript",
				description:
					"The programming language that powers most of my projects — clean, fast, and perfect for design-driven, content-heavy sites.",
				image: {
					src: typescriptLogo.src,
					alt: typescriptLogo.alt,
					width: typescriptLogo.width,
					height: typescriptLogo.height,
				},
			},
			{
				name: "Astro",
				description:
					"The static-first framework that powers most of my projects — clean, fast, and perfect for design-driven, content-heavy sites.",
				image: {
					src: astroLogo.src,
					alt: astroLogo.alt,
					width: astroLogo.width,
					height: astroLogo.height,
				},
			},
			{
				name: "WordPress",
				description:
					"Still the most versatile CMS for editors — I build custom block themes and headless setups for effortless publishing and scale. This site is built with headless WordPress.",
				image: {
					src: wordpressLogo.src,
					alt: wordpressLogo.alt,
					width: wordpressLogo.width,
					height: wordpressLogo.height,
				},
			},
			{
				name: "Tailwind CSS",
				description:
					"My styling foundation — a utility-first framework that lets me design in code while maintaining consistent tokens and semantics.",
				image: {
					src: typescriptLogo.src,
					alt: typescriptLogo.alt,
					width: typescriptLogo.width,
					height: typescriptLogo.height,
				},
			},
			{
				name: "Alpine.js",
				description:
					"A lightweight JavaScript framework for progressive interactivity. Perfect for enhancing static builds with declarative behavior.",
				image: {
					src: alpinejsLogo.src,
					alt: alpinejsLogo.alt,
					width: typescriptLogo.width,
					height: typescriptLogo.height,
				},
			},
			{
				name: "React.js",
				description:
					"A JavaScript library for building user interfaces. Perfect for building modern, fast, and responsive websites.",
				image: {
					src: typescriptLogo.src,
					alt: typescriptLogo.alt,
					width: typescriptLogo.width,
					height: typescriptLogo.height,
				},
			},
			{
				name: "Formstack Suite",
				description:
					"The most versatile and powerful form and workflow automation platform — I use it to build custom solutions for my clients.",
				image: {
					src: typescriptLogo.src,
					alt: typescriptLogo.alt,
					width: typescriptLogo.width,
					height: typescriptLogo.height,
				},
			},
		]}
	/>
	<CenteredContent variant="offwhite">
		<Heading level={2} text="Let's Build Something Thoughtful" />
		<p>
			I collaborate with brands and individuals who care about integrity, design, and impact. If that’s you, let’s
			connect.
		</p>
		<Button variant="secondary" text="Get in Touch" href="/contact/" class="w-fit place-self-center" />
	</CenteredContent>
</PrimaryLayout>
